<!DOCTYPE html>






  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">

<meta name="google-site-verification" content="YPLsskXUv_WqToaDhpExqZVtyOx78CaTNXNzZjUHTRM" />











<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



















  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.2.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon_32_32.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon_16_16.png?v=6.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.2.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.2.0',
    sidebar: {"position":"right","display":"hide","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="转载：https://steemit.com/life/@iyouport/7nfymr">
<meta name="keywords" content="网络隐私保护">
<meta property="og:type" content="article">
<meta property="og:title" content="客户端进入网络的隐私策略">
<meta property="og:url" content="https://forallbright.github.io/2018/06/07/客户端进入网络的隐私安全策略/index.html">
<meta property="og:site_name" content="forAllBright&#39;s Blog">
<meta property="og:description" content="转载：https://steemit.com/life/@iyouport/7nfymr">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://p8gbnxign.bkt.clouddn.com/blog/2018-06-07-070150.png">
<meta property="og:updated_time" content="2018-06-07T07:19:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="客户端进入网络的隐私策略">
<meta name="twitter:description" content="转载：https://steemit.com/life/@iyouport/7nfymr">
<meta name="twitter:image" content="http://p8gbnxign.bkt.clouddn.com/blog/2018-06-07-070150.png">






  <link rel="canonical" href="https://forallbright.github.io/2018/06/07/客户端进入网络的隐私安全策略/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>客户端进入网络的隐私策略 | forAllBright's Blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">forAllBright's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Stay hungry Stay foolish</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>




<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives<span class="badge">22</span></a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    
  
  
  
    
      
    
    <a href="https://github.com/forAllBright" class="github-corner" target="_blank" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#222; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>
    
      </a>
    



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://forallbright.github.io/2018/06/07/客户端进入网络的隐私安全策略/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="forAllBright">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="forAllBright's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">客户端进入网络的隐私策略
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-07 14:54:00 / Modified: 15:19:17" itemprop="dateCreated datePublished" datetime="2018-06-07T14:54:00+08:00">2018-06-07</time>
            

            
              

              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/网络安全/" itemprop="url" rel="index"><span itemprop="name">网络安全</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

            <span class="post-time">
                    &nbsp; |  &nbsp;
                   <span class="post-meta-item-icon">
                     <i class="fa fa-line-chart"></i>
                   </span>
                   <span class="post-meta-item-text">Wordcount:</span>
                   <span class="post-count">7,479(字)</span>
           </span>

            <span class="post-time">
               &nbsp; | &nbsp;
                   <span class="post-meta-item-icon">
                     <i class="fa fa-user-times:"></i>
                   </span>
                   <span class="post-meta-item-text">Duration:</span>
                   <span class="post-count">26(分)</span>
            </span>







          

          

          

        </div>
      </header>


    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>转载：<a href="https://steemit.com/life/@iyouport/7nfymr" target="_blank" rel="noopener">https://steemit.com/life/@iyouport/7nfymr</a></p>
<p><img src="http://p8gbnxign.bkt.clouddn.com/blog/2018-06-07-070150.png" alt=""></p>
<a id="more"></a>
<h2 id="谈谈即时聊天软件"><a href="#谈谈即时聊天软件" class="headerlink" title="谈谈即时聊天软件"></a>谈谈即时聊天软件</h2><p><strong>telegram</strong></p>
<p>最近出现的一些新闻再次推高了对 telegram 的讨论。我们不喜欢把地缘政治拉入技术领域的任何意见，但对于 telegram 不得不提醒一些细节问题。</p>
<p>任何使用手机注册的东西都会暴露广泛的元数据，不仅含有通过 Apple 和 Google 的消息传递服务的所有通知流，还有来自这些服务器的 IP 流量以及通讯应用服务器上的数据。这是 telegram 的诸多软肋之一。</p>
<p>当然这不是 telegram 所特有的，其他一些加密应用程序也是如此。政府的监视计划很明显会盯住这些弱点。即使政府没有利用这点，其产生的元数据仍然揭示了很多关于个人及其行为的信息，这些信息可以随时被任何目的所利用。</p>
<p>telegram将用户的联系人数据库上载到其服务器，由此便能够为所有用户建立一个巨大的社交网络图，以及他们如何相互认识的，如果你想运行的是一个秘密网络（不希望无关的人了解到这一群体的存在以及人们互相之间的关系）该应用的特点显然是一个令人担忧的状况。国安局一直拼命挖掘的就是这类信息，他们知道它有多高效。</p>
<p>简单说就是，将个人电话号码与服务链接的结果就好像在一边逃跑一边撒面包屑那样，追踪者会跟着面包屑的痕迹找到你本人。就算你使用的不是实名手机号也不能保证什么，对于能够访问电信系统的攻击者来说（例如SS7注入或全国电话运营商），劫持帐户的验证码非常简单。这种攻击方法最初是伊朗使用的，后来俄罗斯也被发现使用了同样的方法劫持帐户。显然，至少已经有一些国家正在使用这种技术来劫持账户。</p>
<p>telegram 增加了一个额外的安全功能来解决这种攻击 - 一个密码。如果为帐户设置了密码，在新设备上访问账户仅仅劫持手机验证码是不够的。</p>
<p>不过问题在于，所有非端到端加密聊天都会自动备份到 telegram 服务器 —— 该应用默认没有端对端加密，需要用户手动设置。当用户从另一台设备访问他们的帐户时，可以使用整个聊天历史记录。这是一个安全噩梦。存储敏感数据总是非常危险的。</p>
<p>telegram 的优势在于其频道功能，对于宣传的目的来说的确很高效，但是它的安全保障并没有人们想象中那么高不可攀。俄罗斯用户的抵抗运动所反对的是封锁和审查本身，并不是说应用的安全标准不够就可以对当局的封锁行为视而不见。当然这是最简单的常识无需啰嗦。</p>
<p>telegram 之所以被夸大，恐怕和恐怖组织的使用有关，不了解技术的用户会借此认为它是可靠的，毕竟恐怖组织比其他任何人都承受着更多来自国家民族的追捕。我们不知道 ISIS 为什么会信任该应用，但我们会倾向于推荐 Cryptocat 或 qTox 等，对于普通用户、异议人士和调查记者来说，是足够安全的。</p>
<p><strong>Cryptocat</strong> </p>
<p>Cryptocat 最开始是一个基于 Web 的网页即时通讯工具，其实就是一个浏览器扩展应用。2016年 Cryptocat 的开发者将其彻底改写成了桌面软件。并且支持 Windows、 Linux 和 Mac.</p>
<p>Cryptocat 是一款端对端即时通讯工具，Snowden 在躲避美国政府追捕过程中与记者联系使用就的就是 Cryptocat，这也是 Cryptocat 一举成名的原因之一。</p>
<p>其实早在 2014 年，EFF 就曾进行过一个“安全通訊評分表”项目，对目前主流的聊天软件就聊天加密、信息获取等七个方面做出评分，Cryptocat 获得了最高分。可见 Cryptocat 并非浪得虚名，其端到端的加密通讯技术，可以最大程度保证用户之间通讯信息的隐密性和安全性。</p>
<p>Cryptocat 的特点包括：多平台开源软件. 支持Windows、Linux和MAC；支持文字、图片、视频消息、文件分享；端对端加密，服务器不保存任何聊天信息；多设备支持，离线也能接收消息。</p>
<p>使用很简单，安装好客户端后在官网注册账号，不需要手机号。界面很简洁，没有一丝多余的设计。Cryptocat 支持发送文字、图片、音频、视频。不是视频聊天哦，而是通过摄像头录制一段小视频。</p>
<p>Cryptocat 也可以发送文件，不过速度不太好，当然这可能是因为 Cryptocat 没有中心服务器离线存储文件，所以分享文件速度较慢。</p>
<p>另外，Cryptocat 没有清理存聊天记录的功能，关闭聊天窗口将自动清除聊天记录，下次再打开聊天窗口，如果对方离线，会显示对方最近一次上线时间。</p>
<p>Cryptocat 不支持群聊功能，在其最开始的 Web 应用中是可以群聊的。群聊的安全性比较低，人越多越容易鱼龙混杂，当然最理想的还是把群聊当作可选性更好些，用户掌握主动权。</p>
<p><strong>qTox</strong></p>
<p>qTox 是一款基于 tox 制作的端对端加密即时通讯工具。tox 最早是在2013年6月23日由用户 irungentoo 发布并托管于 GitHub 上的，在此后的几年间 TOX 迅速发展，并衍生出许多基于 tox 制作的客户端，包括 qTox、µTox等等。</p>
<p>tox 最初的想法就是创建一个即时通讯工具，无需使用中央服务器即可运行，并且点对点，端到端加密，保证用户通信的保密性和安全性。tox 客户端较多，基本涵盖了所有平台。</p>
<p>随着政府监控项目的兴起，qTox 提供了一个易于使用的软件让用户能够在与亲人和朋友联系的时候防止他人的偷窥。当其它著名服务要求付费使用的时候，qTox 完全免费，并且没有广告。</p>
<p>qTox 特点：方便，支持文本、音频、视频通话；安全，点对点端对端加密，没有中心服务器；简单，qTox 使用简单，不需要任何专业知识，你只要专注于聊天；自由，qTox 是完全免费的。除了免费使用，还能自由修改它。</p>
<p>首先 qTox 是点对点通信，没有中心服务器，这就意味着使用 qTox 无需注册账号。下载客户端后直接运行，自动生成账号（76 位的十六进制字符），其实就是常见的一机一码。添加好友也很简单，复制对方的 76 位 ID 发送请求即可，添加成功后就可以愉快的进行聊天了。</p>
<p>qTox 支持语音和视频聊天，通话质量也不错，这点在体验上好过 Cryptocat。而且 qTox 还支持分组，而且支持群聊。</p>
<blockquote>
<p>注意，qTox 的群聊是一次性的，也就是说群聊成员下线重新登录后群聊就不存在了，你得重新添加群聊。我本人很赞同这种设计，有可能一些朋友觉得不方便，但要知道，一旦有人能在此过程中强迫群聊中其中一个人交出密码，所泄露的就是一群人。</p>
</blockquote>
<p>为什么建议不要使用以美国为基地的网络服务？</p>
<p>很多隐私专家一直强调，避免采用位于美国的网络服务。这是由于美国的监控项目使用了国家安全信件 (NSLs) 并伴随着不对外开放的法庭程序，其禁止收到 NSLs 的人谈论这份官方请求。这让政府可以秘密地强迫企业同意交出客户资料，从而把私人企业的网络服务转化成一种大规模监控的工具。（上面链接是 EFF 对此的介绍）</p>
<p>本文不做详细翻译了，普通用户了解大概意思就可以了。这件事非常重要，多年来不断有隐私专家对此强调，其中一个最典型的例子就是 Lavabit ，由 Ladar Levison 所创办。美国联邦调查局 FBI 发现 Snowden 使用其服务后，向 Lavabit 要求交出他的使用记录。当然 Lavabit 没有保留系统日志记录而邮件内容是经过加密后才储存，FBI 发出了（不公开法庭）的传票要取得 Lavabit 的 SSL 服务密钥。有了 SSL 密钥就可让他们取用 Lavabit 所有客户的通讯记录（包含元数据和未加密的邮件内容）而不只是 Snowden 的资料。</p>
<p>最后，Levison 交出了 SSL 密钥并在同时关闭了服务器。美国政府当时威胁要逮捕 Levison，认为他关闭 Lavabit 服务是“违反了法院命令”。</p>
<p>Ladar Levison 能做到这点，因为公司属于他一个人。如果它是一个有股东的公共公司，想象一下它的主要责任是为股东赚钱的疯狂的意识形态……这就是为什么隐私保护者一直警告小心硅谷，就算硅谷巨头有正义感，他们也做不到为了正义舍弃公司。</p>
<p>不仅是美国，还包括与美国共享情报的组织，从五眼到九眼到十四眼。</p>
<p>UKUSA 协议 是英国、美国、澳洲、加拿大与纽西兰五国之间的合作协议要共同来收集、分析和分享情报资讯。这个协议的成员就是五眼联盟， 聚焦在取得和分析来自全世界各地的情报。而这五眼国家同意彼此之间不如敌对国那样地互相监控, 由 Snowden 所揭露的资讯显示，有些五眼联盟成员会监控对方国家的人民并相互分享情报以规避国内法令约束不准监控自己国家的公民规定。五眼联盟也与其它不同的国家集团合作以分享情资 (其组成了九眼集团和十四眼集团等), 总之五眼国家和其它国家成员会对彼此互相进行情报监控。</p>
<h2 id="一些每个人都用得到的安全工具。"><a href="#一些每个人都用得到的安全工具。" class="headerlink" title="一些每个人都用得到的安全工具。"></a>一些每个人都用得到的安全工具。</h2><h3 id="相对安全的浏览器："><a href="#相对安全的浏览器：" class="headerlink" title="相对安全的浏览器："></a>相对安全的浏览器：</h3><p><strong>Mozilla Firefox</strong>：Firefox 是一个快速、可靠、开源且尊重用户隐私的上网工具。别忘了调整设置： WebRTC 以及 about:config 和安裝隐私保护附加组件。你可以在这里下载。</p>
<p><strong>Brave</strong>：比较新的开源浏览器”Brave” 会自动地封锁广告与追踪器，其效能比你目前所用的浏览器更为快速安全。Brave 为基于 Chromium 所开发的软件。在这里下载。</p>
<p><strong>Tor</strong> 浏览器：如果你需要额外的匿名层保护，则 Tor 浏览器就是最佳的选项。它是利用火狐浏览器作进一步的调配，其事先预设安装好了一些隐私保护的附加组件、加密与高级的代理器。在这里下载。</p>
<p>你正在使用的浏览器可能并不安全。当访问一个网站时，浏览器会自行地送出一些本身的设定资讯，例如有哪些字体可用，浏览器类型、安装的附加组件等。如果这些组合出来的资讯非常独特，很容易让其它人不需要 cookies 小程式就可以辨识与追踪你。EFF 创建过一个 Panopticlick 工具可以用来测试浏览器的独特程度 —— 浏览器指纹。</p>
<p>现代的网页浏览器并没有依照确保个人在互联网的隐私安全这一标准。如果很担心浏览器留下的独特特征指纹辨识，最实际的作法是使用免費的外挂软件像是 Privacy Badger、 uBlock Origin 与 Disconnect。 它们不只提供你网络自由，也保护你上网的隐私保护。建议进一步了解使用这些工具，会比试着操弄浏览器指纹更为容易和方便。</p>
<p><strong>Privacy Badger</strong> 可用来阻止广告商或其它第三方追踪器偷偷地追踪用户浏览哪些网站网页。当你浏览网站时 Privacy Badger 透过检查外部网站资源的请求了解追踪器状况。当用户浏览网站时，Privacy Badger 会检查外部的网站请求。请注意，Google Analytics 被 Privacy Badger 视为首先相关者（first-party），这表示如果你未用其它封锁器（例如 uBlock Origin），则 Google Analytics 就不会遭到封锁。 </p>
<p><strong>uBlock Origin</strong> 是一个有效的过滤器，容易在内存上执行，也比一般市面上的过滤器更可负载入上千个过滤器当中。这套软件并没有商业化的打算而且是完全开源。不只在火狐，也可以用在其它的浏览器如 Safari、Opera、Chromium 等等。不像 AdBlock Plus，uBlock 并没有所谓「可接受的广告」。 </p>
<p>Disconnect 可以自动移除储存在已开启分页中不需再用到的 cookies 以及其他用来监视用户的资讯都会被清除。 </p>
<ul>
<li>取消 WebRTC </li>
</ul>
<p>WebRTC 是一种新的通讯协议，其依靠 JavaScript 程序，可能會泄露 VPN 用户真实的 IP 地址资讯。有些软件如 NoScript 可以阻止这个漏洞，但还是建议直接关闭这个协议。</p>
<p>在火狐浏览器下取消 WebRTC：在 “about:config” 内，将 “media.peerconnection.enabled” 设为 “false”。</p>
<p>在浏览器的网址列輸入 “about:config” 并点击 enter 键；点击”I’ll be careful, I promise!”按钮；搜索”media.peerconnection.enabled”；双击这条资讯, “Value”栏位现在应该变成了”false”；完成。再作一次 WebRTC 漏洞测试</p>
<p>如果要确认每一个与 WebRTC 相关设置真的关闭了，可以再进行以下的设置改动：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>media.peerconnection.turn.disable = true</p>
<p>media.peerconnection.use_document_iceservers = false</p>
<p>media.peerconnection.video.enabled = false</p>
<p>media.peerconnection.identity.timeout = 1 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>解决 Google Chrome 底下的 WebRTC 漏洞：Chrome 浏览器下无法完全取消 WebRTC，但可以透过扩展变更其路由设定（与防止洩漏）。有两种开源的方案为：WebRTC Leak Prevent（需依情况来调整设定选项）和  uBlock Origin （请选 “Prevent WebRTC from leaking local IP addresses”）。</p>
<p>苹果 iOS 操作系统下的 Chrome、Internet Explorer 与 Safari 目前尚未采用 WebRTC。但依旧推荐火狐浏览器。</p>
<h3 id="有隐私意识的电子邮件推荐"><a href="#有隐私意识的电子邮件推荐" class="headerlink" title="有隐私意识的电子邮件推荐"></a>有隐私意识的电子邮件推荐</h3><p>选择标准是：在美国境外营运，并且支持 SMTP TLS. </p>
<p><strong>Protonmail</strong>，瑞士，500MB，接受比特币，有自定网址；Disroot.org, 荷兰，4GB，接受比特币；Tuanota，德国，1GB；自定网址；Mailfence，比利时，500 MB，接受比特币，有自定网址；mailbox.org，德国，2GB，接受比特币，有自定网址；runbox，挪威，1 GB；startmail，荷兰，10 GB，接受比特币，有自定网址；KolabNow, 瑞士，2 GB，接受比特币。</p>
<p>另外，<strong>Mozilla Thunderbird</strong> 是一个免费、开源、跨平台的电邮、新闻与聊天软件，由 Mozilla 基金会开发维护。 Thunderbird 是电子邮件、新闻群组、新闻推送订阅与聊天 (支持 XMPP, IRC, Twitter) 的客户端软件；</p>
<p><strong>Claws Mail</strong> 是一个免费开源，使用 GTK 桌面环境为基础的电邮与新闻软件。它提供了简单的设定和丰富的功能，也包括 Windows 下的加密套件包。</p>
<p><strong>I2P-Bote</strong> 是一个完全去中心化的分布式电邮系统，不同的身份识别也不会曝露邮件表头资讯。到 2015 年为止，它仍处在测试版本，可以透过网页界面应用程序或 IMAP 与 SMTP 来取用。所有 bote-mails 电邮是采端对端透明加密或是可以选择利用传送者的私钥进行数字签名。操作系统：Windows, Mac, Linux, Android, F-Droid.</p>
<p><strong>Bitmessage</strong> 是一种点对点的通讯协议，被用来传送加密讯息给单一或多名订阅者。它是去中心化与无信任，指的是用户不必要信任任何根凭证授权的实体。它采用强度高的认证授权，让送件者的讯息无法被欺骗，目的在于能将非讯息内容的资料予以隐藏。操作系统：Windows, Mac, Linux.</p>
<p><strong>Retroshare</strong> 可建立朋友间的加密通讯连线，没有人可以监控你。 Retroshare 是一个完全分散化的设计，这代表着它没有任何中心控制的服务器。它完全开源和免费。没有任何成本、广告或是服务协议。操作系统：Windows, Mac, Linux。</p>
<h3 id="重视用户隐私的搜索引擎"><a href="#重视用户隐私的搜索引擎" class="headerlink" title="重视用户隐私的搜索引擎"></a>重视用户隐私的搜索引擎</h3><p>如果你目前仍在使用 Google、 Bing 或 Yahoo 等搜寻引撃，那么必须说，它们都非常不安全。你应该换成以下这些搜索引擎：</p>
<p><a href="https://searx.me/" target="_blank" rel="noopener"><strong>searx</strong></a> 开源搜索引擎，综合来自其它搜索引擎的查询结果但不会储存用户的资讯，不留活动记录、无广告也不会追踪。</p>
<p><a href="https://www.startpage.com/" target="_blank" rel="noopener"><strong>StartPage</strong></a> 是 Google 搜索引擎的查询结果，但有完全的隐私保护措施。StartPage 是一家欧洲公司，自 2006 年起就很重视隐私。</p>
<p><a href="https://duckduckgo.com" target="_blank" rel="noopener"><strong>DuckDuckGo</strong></a> 不会追踪用户的搜索引擎。 Some of DuckDuckGo　部份的代码是放在 GitHub 的免费软件，但其核心是封闭。公司在美国，但跟华盛顿无关，它是个特例，就像 EFF 那样。</p>
<h3 id="安全档案分享"><a href="#安全档案分享" class="headerlink" title="安全档案分享"></a>安全档案分享</h3><p><strong>OnionShare</strong> 是一套开源工具，可以安全而匿名地分享档案，没有大小限制。它透过网页服务器来启动，让自身变成 Tor 洋䓤服务接取的一部份，产生一个无法猜測的网址以用來接取和下载档案。其并不需要在互联网上设定一个服务器或是使用第三方的档案分享服务。用戶可以透过自己的电脑來放置这些档案，再使用 Tor 以让档案可以透过互联网暂时被存取。操作系统： Windows、Mac、Linux.</p>
<p><strong>Magic Wormhole</strong> 让电脑之间安全地收取档案资料。这个套件提供一个名为虫洞 wormhole 的资料库，其可以在电脑之间取用不限大小的档案与目录资料夹。其电脑间两个终端利用一致虫洞代码 “wormhole codes”　来识别，一般而言，传送端的电脑会产生与显示这个代码，而接收端电脑则必须输入此代码以进行连接。 此代码很简短且人类可识读，利用发音可区别的文字行。接收端的电脑则在代码字上提供完成分页，因此通常要输入一些字元。虫洞代码仅能使用一次，故不必强记。跨平台。</p>
<p>安全的档案同步软件</p>
<p><strong>SparkleShare</strong> 在自己的电脑上建立一个特别的资料夹，用户可把远端主机的资料夹（或专案）存放到这个资料夹底下。这些专案会保持自动与主机以及其它的加入的资料夹同群一起更新档案，新增、移除或编辑等最新状态。操作系统：Windows, Mac, Linux.</p>
<p><strong>Syncany</strong> 可让用户备份与分享工作站上的某些资料夹，它是一个开源的软件且提供资料加密功能，对储存类型与供给上提供了很大的弹性。档案在上传到主机前会先经过加密手续。操作系统： Windows, Mac, Linux.</p>
<p><strong>Syncthing</strong> 用来替换商用同步软件与云端服务，它开放、值得信任且去中心化。你的资料就是你的资料，当事人有权选择它要存放在哪里，是否要与其它第三者分享以及资料如何在网络上被传递。操作系统：Windows, Mac, Linux, Android, BSD, Solaris.</p>
<h3 id="档案加密系统"><a href="#档案加密系统" class="headerlink" title="档案加密系统"></a>档案加密系统</h3><p>如果你尚未对使用中的硬盘、电子邮件或档案库予以加密，你应该赶快从这挑选一个加密软件。</p>
<p><strong>VeraCrypt</strong> - 硬盘加密 可取得源代码的免费软件工具，用来进行快速加密。它可以为一个档案建立一个虚拟的加密硬盘、加密分区或是在开机前授权设置整个设备的硬盘都予以加密。 VeraCrypt 源自目前已无进展的 TrueCrypt 专案。它最初的发布是 2013 年 6 月 23 日。据开发者表示，原本 TrueCrypt 源代码在审查后发现的问题已经解决，大幅地改善了安全性。操作系统：Windows, Mac, Linux.</p>
<p><strong>GNU Privacy Guard</strong> - 电邮加密 GnuPG 是采用 GPL 授权，替代 PGP 密码学软件套件。 GnuPG 可兼容 RFC 4880, 它是一个目前 IETF OpenPGP 标准轨道规格。目前 PGP (以及Veridis’ Filecrypt)的版本可以和 GnuPG 以及其它 OpenPGP 兼容系统交互操作。 GnuPG 是自由软件基金会GNU 软件专案中的一部份，曾接受德国政府的经费赞助。 操作系统：Windows, Mac, Linux, Android, BSD.</p>
<p><strong>PeaZip</strong> - 档案库加密 PeaZip 是由 Giorgio Tani 所开发的一套免费开源的档案管理与档案库软件。它支援原生的 PEA 档案库格式(特色为压缩、多组磁区分割、弹性化节授权加密和一致的检验格式)以及其它的主流格式。其特别关注在开放格式，目前有支持 181 档案延伸格式。操作系统： Windows, Linux, BSD.</p>
<h3 id="去中心的社交网络"><a href="#去中心的社交网络" class="headerlink" title="去中心的社交网络"></a>去中心的社交网络</h3><p>如果你还在使用如 Facebook, Twitter 或 Google 的社交网站，这些都是集中化的东西，你无法摆脱审查和隐私侵犯。建议从以下挑选替代品。</p>
<p><strong>diaspora</strong> 基于三大核心哲学：去中心化、自由和隐私。它希望能引起大家关切由中心所控制社交网站下的隐私问题，所以可以让用户自行架设服务器（或称”pod”）来控制内容，而各个服务器可以再自行互动分享动态更新、照片或其它的资料。</p>
<p><strong>Friendica</strong> 强调在隐私控制上的仔细设置，它是一个容易安装在服务器上的软件，以期待尽可能出现更多其它的社交网络联邦。 Friendica 用户可以从 Facebook, Twitter, Diaspora, GNU social，App.net, Pump.io 等等多项社交网络服务来整合其联系人的名单到自己的社交时间流。</p>
<p><strong>GNU social</strong> 的功能有点类似推特，但希望能为微博客社群，提供更开放、互相扶持的分散式沟通功能。企业或个人可以自行安装 GNU social 在自家机器上，以控管自己的服务与资料数据。著名的公共网站如： quitter.se 和 gnusocial.no.</p>
<h3 id="安全的网络笔记应用"><a href="#安全的网络笔记应用" class="headerlink" title="安全的网络笔记应用"></a>安全的网络笔记应用</h3><p>如果你仍然在使用如 Evernote、Google Keep 或 Microsoft OneNote，赶紧换掉它们。</p>
<p><strong>Laverna</strong> 以 JavaScript 开发的网页笔记应用程式，它支持 Markdown 语法编辑和加密功能。这个应用程序将笔记储存在浏览器的资料库上，只有你能取用，所以既安全又能保护隐私。操作系统：Windows, Mac, Linux, 网页。</p>
<p><strong>Turtl</strong> 可以做笔记、网址书签和储存敏感专案的文件。它可让工作伙伴共享密码,追踪你所写的文章。 Turtl 让文件保持安全,只有你和有分享权限者可以看到。操作系统：Windows, Mac, Linux, Android.</p>
<p><strong>Standard Notes</strong> 是一个简单私密的笔记应用程序，可以轻松、随时随地作笔记。它的功能包括了每个平台上端点对端点之间的加密，而其桌面应用则有丰富的主題模版和客制化编辑器。操作系统：Windows, Mac, Linux, iOS, Android, Web.</p>
<h3 id="安全的生产力工具"><a href="#安全的生产力工具" class="headerlink" title="安全的生产力工具"></a>安全的生产力工具</h3><p><strong>Etherpad</strong> 是一个可以高度自定义的开源在线编辑器，它提供了即时的协同编辑功能。 Etherpad 可以让你即时地在线上协力编写文件，在你的浏览器上就像是有多名参与者共同在编写一份文章、发布消息或是任务清单等等功能。操作系统：Windows, Mac, Linux.</p>
<p><strong>EtherCalc</strong> 是一个网页版的试算表，其资料存在网页上，使用者可以同一时间在同一个档案上进行编辑而其变动会立即呈现在屏幕上。它可用来作为共享的库存统计、问卷表单、清单管理、脑力激荡等工具。操作系统：Windows, Mac, GNU/Linux, FreeBSD, Browser.</p>
<p><strong>ProtectedText</strong> 是一开源的网页应用程序，它可以在浏览器上加密与解密文字档案而其密码(或称其杂凑值)绝不会送回到服务器。 - 因此若密钥和密码则文字内容无法被解密，就算有关当局拿到文档也没用。它无 cookies, 无时限，不用注册也不会对用户进行追踪。支持各式浏览器。</p>
<h3 id="安全电脑操作系统"><a href="#安全电脑操作系统" class="headerlink" title="安全电脑操作系统"></a>安全电脑操作系统</h3><p>如果你目前还在使用微软 Windows 或是苹果电脑 OS X 的操作系统，或许该考虑其它替代选项了。</p>
<p><strong>Qubes</strong> 是一个开源的操作系统，其设计为桌面型电脑提供更坚强的安全保护。 Qubes 是以 Xen 为基础, X 视窗系统桌面环境与 Linux,它可以执行大多数的 Linux 应用程序以及适用大部份的 Linux 的硬件效能驱动。</p>
<p><strong>Debian</strong> 有点像 Unix 的电脑操作系统，它是 Linux 的发布版本之一，其由自由免费的软件所组成，大部份的软件都是采用 GNU 一般公共授权。有一群人长期地投入 Debian 专案的开发维护。</p>
<hr>
<p>⚠️为什么 Windows 10 是隐私噩梦？</p>
<p>因为1、系统会默认预设为启用资料同步：浏览网络记录与打开的网站；应用程序设定；WiFi 热点名称和密码。2、你的机子被预设标记了一个独一的广告识别码：用它第三方广告商或网络商可对你进行个性化广告服务。3、Cortana 可以收集你的任何资料：键盘记录，搜索与麦克风输入；日历资料；聆听什么音乐；信用卡资讯；购买行为。4、微软可以收集任何个人资料：用户身份识别；密码；人种族群资讯；兴趣与习惯；使用数据；联系人与人际关系；地点地理资讯；电子邮件、即时通讯的内容、通话记录与声音影像记录。5、你的资料可能被他人使用：下载 Windows 10 时,你授予了微软公司可以将上述资料分享给第三者，不管有无取得你的同意。</p>
<p>你也可以下载这个工具 W10Privacy，利用一些已知的方式来设法禁用 Windows 10 下主要的追踪监控功能。以及另一些应对方法。</p>
<p>美国国安局建立了一套设施，其几乎可以拦截任何通讯。这套设备的能力，大多数人类的通讯都会自动地被吸纳进去而不是针对特定目标。如果我想要看你的电邮内容或是你老婆的电话，我只须要利用这套设备进行拦截，就可以取得你的电子邮件、密码、电信通话记录、信用卡资料等等。我不想活在一个做这种勾当的社会里，我不想要活在一个任何所做的事所说的话都被记录下来的世界。这不是我愿意去支持或是存活下来的地方。<br>—— Edward Snowden in The Guardian<br>我们都需要有地方可以去探索而不依靠别人施加在我们身上的眼光，只有在一个不必被放大检视的地方我们才可以真正地测试出自己的极限。真正的私域才能允许不同声音、创造力和个人试探式的谎言。<br>—— Glenn Greenwald in Huffington Post<br>开源的路由器固件</p>
<hr>
<p><strong>OpenWrt</strong> 是一套利用 Linux 核心的操作系统 (特别是一种「嵌入式」操作系统)，主要用于一些路由网络流量的设备上。它主要的构成是由 Linux 核心, util-linux、uClibc 和 BusyBox。这些元素都已经过尺寸的最佳调适，以符合家用路由器这类的小型设备与其有限的内存容量与储存空间。</p>
<p><strong>pfSense</strong> 是利用 FreeBSD 所开发的一套用于防火墙/路由器上的开源固件。它安装在电脑上可变成网路上防火墙/路由器功能，并以其可靠与不输给商用软件的强大功能而著称。 pfSense 通常布署在周边的防火墙、路由器、无线接取器、DHCP 服务器, DNS 服务器, 以及 VPN 末端点。</p>
<p><strong>LibreWRT </strong>是一套以 GNU/Linux-libre 授权的发布版本，利用最小的资源装置在电脑上，例如 Ben Nanonote，利用 ath9k 的无线路由器以及其它强调尊重用户自由与免费软件的硬件设备上。自由软件基金会即在其接取器和路由器上安装 LibreWRTIt，以提供办公室内移动电脑设备的网络连线。</p>

      
    </div>

    

    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>forAllBright</li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://forallbright.github.io/2018/06/07/客户端进入网络的隐私安全策略/" title="客户端进入网络的隐私策略">https://forallbright.github.io/2018/06/07/客户端进入网络的隐私安全策略/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.</li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络隐私保护/" rel="tag"># 网络隐私保护</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/06/05/MacOS 日常使用/" rel="next" title="MacOS 日常使用 Issue">
                <i class="fa fa-chevron-left"></i> MacOS 日常使用 Issue
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/06/07/Wireshark数据包分析知识点记录/" rel="prev" title="Wireshark — 数据包分析">
                Wireshark — 数据包分析 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>




    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNjYwMi8xMzEzNw=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="forAllBright" />
            
              <p class="site-author-name" itemprop="name">forAllBright</p>
              <p class="site-description motion-element" itemprop="description">Stay hungry Stay foolish</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">22</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/forAllBright" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#谈谈即时聊天软件"><span class="nav-text">谈谈即时聊天软件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一些每个人都用得到的安全工具。"><span class="nav-text">一些每个人都用得到的安全工具。</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#相对安全的浏览器："><span class="nav-text">相对安全的浏览器：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#有隐私意识的电子邮件推荐"><span class="nav-text">有隐私意识的电子邮件推荐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重视用户隐私的搜索引擎"><span class="nav-text">重视用户隐私的搜索引擎</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全档案分享"><span class="nav-text">安全档案分享</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#档案加密系统"><span class="nav-text">档案加密系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#去中心的社交网络"><span class="nav-text">去中心的社交网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全的网络笔记应用"><span class="nav-text">安全的网络笔记应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全的生产力工具"><span class="nav-text">安全的生产力工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全电脑操作系统"><span class="nav-text">安全电脑操作系统</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">forAllBright</span>

  

  
</div>











        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.2.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.2.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.2.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.2.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.2.0"></script>



  



	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
